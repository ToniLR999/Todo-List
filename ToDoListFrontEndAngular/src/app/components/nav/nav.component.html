<nav class="navbar-custom">
  <div class="navbar-content">

    <a class="navbar-brand" routerLink="/">
      <i class="bi bi-check2-square me-2"></i>
      ToDo List
    </a>

    <!-- Botón hamburguesa -->
    <button 
      *ngIf="isMobile && !sidebarVisible" 
      class="menu-btn" 
      (click)="toggleSidebar()" 
      aria-label="Abrir menú"
    >
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
        <rect y="4" width="24" height="3" rx="1.5" fill="white"/>
        <rect y="10.5" width="24" height="3" rx="1.5" fill="white"/>
        <rect y="17" width="24" height="3" rx="1.5" fill="white"/>
      </svg>
    </button>

    <!-- Botón cerrar (X) -->
    <button 
      *ngIf="isMobile && sidebarVisible" 
      class="menu-btn" 
      (click)="toggleSidebar()" 
      aria-label="Cerrar menú"
    >
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
        <line x1="5" y1="5" x2="19" y2="19" stroke="white" stroke-width="3" stroke-linecap="round"/>
        <line x1="19" y1="5" x2="5" y2="19" stroke="white" stroke-width="3" stroke-linecap="round"/>
      </svg>
    </button>

    <!-- Menú de usuario existente -->
    <div class="user-menu" [class.open]="isUserMenuOpen">
      <div class="user-label" (click)="toggleUserMenu()">
        <i class="bi bi-person-circle me-1"></i>
        {{ username }}
        <i class="bi" [ngClass]="isUserMenuOpen ? 'bi-caret-up-fill' : 'bi-caret-down-fill'"></i>
      </div>
      
      <div class="user-dropdown" *ngIf="isUserMenuOpen">
        <ul>
          <li>
            <a [routerLink]="['/perfil']" (click)="closeUserMenu()">
              <i class="bi bi-person me-2"></i>
              Perfil
            </a>
          </li>
          <li>
            <a (click)="goToNotifications(); closeUserMenu()">
              <i class="bi bi-bell me-2"></i>
              Notificaciones
            </a>
          </li>
          <li>
            <hr>
          </li>
          <li>
            <a (click)="logout(); closeUserMenu()">
              <i class="bi bi-box-arrow-right me-2"></i>
              Cerrar sesión
            </a>
          </li>
        </ul>
      </div>
    </div>


  </div>
</nav>